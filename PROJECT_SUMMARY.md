# TopNews Bot - –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

## –û–±–∑–æ—Ä
TopNews Bot - Telegram-–±–æ—Ç –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ RSS, HTML –∏ Telegram-–∫–∞–Ω–∞–ª–æ–≤.
–°–±–æ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —Ñ–∏–ª—å—Ç—Ä –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –∏
–ø—É–±–ª–∏–∫—É—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º. –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é, –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫,
—Å—Ç–∞—Ç—É—Å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –∞ —Ç–∞–∫–∂–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ AI-—Ñ—É–Ω–∫—Ü–∏–∏ (–æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∏ —Ö–µ—à—Ç–µ–≥–∏).

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞
- `main.py`, `main_railway.py` - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º/railway –æ–∫—Ä—É–∂–µ–Ω–∏–∏.
- `bot.py` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –±–æ—Ç–∞ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥.

### –°–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- `sources/source_collector.py` - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
- `parsers/rss_parser.py` - –ø–∞—Ä—Å–∏–Ω–≥ RSS.
- `parsers/html_parser.py` - –ø–∞—Ä—Å–∏–Ω–≥ HTML —Å—Ç—Ä–∞–Ω–∏—Ü.

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- `utils/date_parser.py` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ confidence-–ª–æ–≥–∏–∫–∞.
- `utils/text_cleaner.py` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π.
- `utils/content_quality.py` - –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞, –¥–µ–¥—É–ø –ø–æ checksum/url_hash.

### –•—Ä–∞–Ω–∏–ª–∏—â–µ
- `db/database.py` - SQLite, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π, –∫—ç—à, AI-–º–µ—Ç—Ä–∏–∫ –∏ —Å—Ç–∞—Ç—É—Å–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `config/config.py` –∏ `config/railway_config.py` - —Å–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è,
    –∫–ª—é—á–∏ –∏ —Ä–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
Sources (RSS/HTML/Telegram)
    -> SourceCollector (async)
    -> Date parsing + quality filter
    -> Deduplication (DB)
    -> Publish to users
    -> Store news + source status
```

### –≠—Ç–∞–ø—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏
1) –°–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (RSS/HTML) –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.
2) –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç—ã –∏ confidence (high/medium/low/none).
3) –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤—É.
4) –î–µ–¥—É–ø –ø–æ URL/URL hash/GUID.
5) –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∏ –∑–∞–ø–∏—Å—å –≤ –ë–î.

## –°—Ç–∞—Ç—É—Å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

–°—Ç–∞—Ç—É—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–æ–º–∞–Ω–¥–µ `/status` –∏ –≤ —ç–∫—Ä–∞–Ω–µ "–°—Ç–∞—Ç—É—Å –±–æ—Ç–∞".
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è:
- –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —Ç–∏–ø (`rss`, `html`, `api`, `x/twitter`, `yahoo`),
- —Å—Ç–∞—Ç—É—Å `üü¢` –∏–ª–∏ `üî¥`,
- —Å—á–µ—Ç—á–∏–∫ –≤–∞–ª–∏–¥–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞ 24 —á–∞—Å–∞ –∏–ª–∏ –ø—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏.

–õ–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
- `üü¢` –µ—Å–ª–∏ –µ—Å—Ç—å –≤–∞–ª–∏–¥–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ 24 —á–∞—Å–∞ –∏ error_rate < 0.5.
- `üî¥` –µ—Å–ª–∏ –≤–∞–ª–∏–¥–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–µ—Ç –∏–ª–∏ error_rate >= 0.5.
- `DROP_OLD_NEWS` (—Å—Ç–∞—Ä—ã–µ –Ω–æ–≤–æ—Å—Ç–∏) –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫–∞.

–°–æ–±—ã—Ç–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö `source_events` –∏ `source_health`.

## AI —Ñ—É–Ω–∫—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ (HTML –∏—Å—Ç–æ—á–Ω–∏–∫–∏).
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ö–µ—à—Ç–µ–≥–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤.
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ë–î.

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
- `/start`, `/help` - —Å–ø—Ä–∞–≤–∫–∞.
- `/sync` - —Ä—É—á–Ω–æ–π —Å–±–æ—Ä.
- `/status` - —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
- `/pause`, `/resume` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Å–±–æ—Ä–æ–º.

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –û—à–∏–±–∫–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –æ–±—â–∏–π —Ü–∏–∫–ª.
- –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã —Å–≤–µ–∂–µ—Å—Ç–∏ –ø–æ confidence –∏ URL-–¥–∞—Ç–∞–º.
- Telegram-–∫–∞–Ω–∞–ª—ã –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ RSSHub (–µ—Å—Ç—å –∑–µ—Ä–∫–∞–ª–∞).
