"""
–¢–µ—Å—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ Telegram –∫–∞–Ω–∞–ª–æ–≤
"""
from utils.text_cleaner import format_telegram_message

def test_telegram_vs_web_formatting():
    print("=" * 70)
    print("–¢–ï–°–¢ –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–Ø –ù–û–í–û–°–¢–ï–ô")
    print("=" * 70)
    
    # –ü—Ä–∏–º–µ—Ä –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ Telegram –∫–∞–Ω–∞–ª–∞
    telegram_example = {
        'title': 'üé¨ –ì–ª–∞–≤–∞ –ú–ò–î –®–≤–µ–π—Ü–∞—Ä–∏–∏ –ò–Ω—å—è—Ü–∏–æ –ö–∞—Å—Å–∏—Å –∏ –≥–µ–Ω—Å–µ–∫ –û–ë–°–ï –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å',
        'text': 'üé¨ –ì–ª–∞–≤–∞ –ú–ò–î –®–≤–µ–π—Ü–∞—Ä–∏–∏ –ò–Ω—å—è—Ü–∏–æ –ö–∞—Å—Å–∏—Å –∏ –≥–µ–Ω—Å–µ–∫ –û–ë–°–ï –ö—å—è—Ä–∞ –í–æ–ª–º–∞—Ä–∫ –ú–æ–Ω—Ç–∞–Ω–∞—Ä–∏ –æ–±—Å—É–¥–∏–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –≤ –º–∏—Ä–µ –∏ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã –¥–∏–ø–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è —É–∫—Ä–∞–∏–Ω—Å–∫–æ–≥–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞',
        'source': '@ruptlyalert',
        'url': 'https://rsshub.../telegram/channel/ruptlyalert/123'
    }
    
    # –ü—Ä–∏–º–µ—Ä –Ω–æ–≤–æ—Å—Ç–∏ —Å web –∏—Å—Ç–æ—á–Ω–∏–∫–∞
    web_example = {
        'title': '–®–≤–µ–π—Ü–∞—Ä–∏—è –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–æ–≤—ã–π –ø–ª–∞–Ω –ø–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—é –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞',
        'text': '–í –∏–Ω—Ç–µ—Ä–≤—å—é –¥–ª—è Reuters –≥–ª–∞–≤–Ω—ã–π –¥–∏–ø–ª–æ–º–∞—Ç –®–≤–µ–π—Ü–∞—Ä–∏–∏ –ø—Ä–µ–¥–ª–æ–∂–∏–ª –Ω–æ–≤—ã–π –º–∏—Ä–Ω—ã–π –ø–ª–∞–Ω –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —É–∫—Ä–∞–∏–Ω—Å–∫–æ–≥–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞. –ü–æ –µ–≥–æ —Å–ª–æ–≤–∞–º, –ø–ª–∞–Ω –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Ä–µ–∞–ª–∏—è—Ö —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è...',
        'source': 'lenta.ru',
        'url': 'https://lenta.ru/article/123456'
    }
    
    print("\nüì± –ù–û–í–û–°–¢–¨ –ò–ó TELEGRAM –ö–ê–ù–ê–õ–ê (@ruptlyalert)")
    print("-" * 70)
    msg_telegram = format_telegram_message(
        title=telegram_example['title'],
        text=telegram_example['text'],
        source_name=telegram_example['source'],
        source_url=telegram_example['url'],
        category='üåç –ú–∏—Ä'
    )
    print(msg_telegram)
    
    print("\n" + "=" * 70)
    print("üåê –ù–û–í–û–°–¢–¨ –° WEB –ò–°–¢–û–ß–ù–ò–ö–ê (lenta.ru)")
    print("-" * 70)
    msg_web = format_telegram_message(
        title=web_example['title'],
        text=web_example['text'],
        source_name=web_example['source'],
        source_url=web_example['url'],
        category='üåç –ú–∏—Ä'
    )
    print(msg_web)
    
    print("\n" + "=" * 70)
    print("‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï:")
    print("-" * 70)
    print("üì± Telegram –∫–∞–Ω–∞–ª—ã: –ë–ï–ó –∑–∞–≥–æ–ª–æ–≤–∫–∞ (—Ç–µ–∫—Å—Ç —Å–∞–º –ø–æ —Å–µ–±–µ –Ω–æ–≤–æ—Å—Ç—å)")
    print("üåê Web –∏—Å—Ç–æ—á–Ω–∏–∫–∏: –° –∑–∞–≥–æ–ª–æ–≤–∫–æ–º (–∑–∞–≥–æ–ª–æ–≤–æ–∫ + —Ç–µ–∫—Å—Ç)")
    print("=" * 70)

if __name__ == '__main__':
    test_telegram_vs_web_formatting()
